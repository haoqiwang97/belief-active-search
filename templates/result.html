{% extends "layout.html" %}

{% block content %}

<h1><a href="/experimentslist">Experiment Management</a>
    <i class="angle double right icon"></i>
</h1>

    <div class="ui three column grid">
        <div class="column">
            <h2>Trials</h2>
            <img class="ui fluid image" src={{trial_plot}}>
            <table class="ui striped table">
                <thead>
                    <tr>
                        <th>Round</th>
                        <th>Left</th>
                        <th>Right</th>
                        <th>Select</th>
                    </tr>
                </thead>
                <tbody>
                    {% for trial in trials %}
                    <tr>
                        <td>{{ trial.round }}</td>
                        <td>{{ trial.img1_id }}</td>
                        <td>{{ trial.img2_id }}</td>
                        <td>{{ trial.select_id }}</td>
                    </tr>
                    {% endfor %}
                </tbody>
            </table>
        </div>

        <div class="column">
            <h2>Validities</h2>
            <img class="ui fluid image" src={{validity_plot}}>
            <p></p>
            <p>Q1: Is this photograph similar to your expectation of reconstruction outcome? (Rate from 1 to 5, 1: very unsimilar, 5: very similar)</p>
            <p>Q2: If we show this photograph to your doctor, do you think your doctor will have a better understanding of your thought?</p>
            <table class="ui striped table">
                <thead>
                    <tr>
                        <th>Round</th>
                        <th>Photo</th>
                        <th>Q1</th>
                        <th>Q2</th>
                    </tr>
                </thead>
                <tbody>
                    {% for validity in validities %}
                    <tr>
                        <td>{{ validity.round }}</td>
                        <td>{{ validity.top_rank_img }}</td>
                        <td>{{ validity.score }}</td>
                        <td>{{ validity.doctor_understand }}</td>
                    </tr>
                    {% endfor %}
                </tbody>
            </table>
        </div>

        <div class="column">
            <h2>Predictions</h2>
            <img class="ui fluid image" src={{prediction_plot}}>

            <table class="ui table">
                <thead>
                    <tr>
                        <th>Rank</th>
                        <th>Photo</th>
                    </tr>
                </thead>
                <tbody>
                    {% for index in range(closest_neighbor_img_list|length) %}
                    <tr>
                        <td>{{ index + 1 }}</td>
                        <td><img class="ui fluid image" src={{closest_neighbor_img_list[index]}} style="width: 50%; display: block; margin: 0 auto;"></td>
                    </tr>
                    {% endfor %}
                </tbody>
            </table>
        </div>
    </div>



{% endblock %}